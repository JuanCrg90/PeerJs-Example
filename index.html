<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Web RCT Fundamentals - PeerJS Video Chat with manual signaling example</title>

    <link rel="stylesheet" href="style.css">
    <script
                           src="https://code.jquery.com/jquery-2.2.4.min.js"
                           integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
                           crossorigin="anonymous"></script>
    <script src="http://cdn.peerjs.com/0.3/peer.min.js"></script>
    <script type="text/javascript" src="ps-webrtc-peerjs.js"></script>

  </head>
  <body>

    <div>

      <div id="video-container">
        your friend
        <video id="their-video" autoplay class="their-video"></video>
        <video id="my-video" muted="true" autoplay class="my-video"></video> You
      </div>

      <div>
        <h2>Super-Simple PeerJS Video Chat with Manual Signalling</h2>

        <div id="step1">
          <p>Please click 'allow' on the top of the screen so we can access your webcam and microphone for calls</p>
          <div id="step1-error">
            <p>Failed to access the webcam and microphone. Make sure to run this demo on an http server and click allow when asked for permisions by the browser.</p>
            <a href="#" id="step1-retry" class="button">Try again</a>
          </div>
        </div>

        <div id="step2">
          <p>Your id: <span id="my-id"></span></p>
          <p>Share this id with others so they can call you.</p>
          <p>
          <span id="subhead">Make a call</span> <br>
          <input id="callto-id" type="text" placeholder="Call user id...">
          <a href="#" id="make-call">Call</a>
          </p> 
        </div>

        <div id="step3">
          <p>Currently in call with <span id="their-id">...</span></p>
          <p><a href="#" id="end-call">End Call</a></p>
        </div>
      </div>

    </div>



  </body>
</html>
